{
  "minVersion": "0.8.0",
  "services": {
    "TorRelay1": {
      "image": "r3bo0tbx1/onion-relay:latest",
      "container_name": "TorRelay1",
      "restart": "unless-stopped",
      "network_mode": "host",
      "environment": [
        "TZ=Asia/Tokyo"
      ],
      "volumes": [
        {
          "type": "bind",
          "source": "/opt/tor-relay/relay-1.conf",
          "target": "/etc/tor/torrc",
          "read_only": true
        },
        {
          "type": "volume",
          "source": "tor-relay-1-data",
          "target": "/var/lib/tor"
        },
        {
          "type": "volume",
          "source": "tor-relay-1-logs",
          "target": "/var/log/tor"
        }
      ],
      "security_opt": [
        "no-new-privileges:true"
      ],
      "cap_add": [
        "NET_BIND_SERVICE",
        "CHOWN",
        "SETUID",
        "SETGID",
        "DAC_OVERRIDE"
      ],
      "labels": {
        "cosmos-stack": "TorMultiRelay",
        "cosmos-stack-main": "TorRelay1",
        "cosmos-description": "ðŸ§… Hardened Tor Guard Relay v1.1.1 with diagnostics & auto-healing",
        "cosmos-icon": "https://raw.githubusercontent.com/r3bo0tbx1/tor-guard-relay/main/src/onion.png",
        "cosmos-auto-update": "true",
        "cosmos-auto-update-type": "registry",
        "cosmos-force-network-secured": "false",
        "cosmos-auto-update-notify": "true",
        "cosmos-auto-update-restart": "true",
        "cosmos-version": "1.1.1",
        "maintainer": "rE-Bo0t.bx1 <r3bo0tbx1@brokenbotnet.com>"
      }
    },
    "TorRelay2": {
      "image": "r3bo0tbx1/onion-relay:latest",
      "container_name": "TorRelay2",
      "restart": "unless-stopped",
      "network_mode": "host",
      "environment": [
        "TZ=Asia/Tokyo"
      ],
      "volumes": [
        {
          "type": "bind",
          "source": "/opt/tor-relay/relay-2.conf",
          "target": "/etc/tor/torrc",
          "read_only": true
        },
        {
          "type": "volume",
          "source": "tor-relay-2-data",
          "target": "/var/lib/tor"
        },
        {
          "type": "volume",
          "source": "tor-relay-2-logs",
          "target": "/var/log/tor"
        }
      ],
      "security_opt": [
        "no-new-privileges:true"
      ],
      "cap_add": [
        "NET_BIND_SERVICE",
        "CHOWN",
        "SETUID",
        "SETGID",
        "DAC_OVERRIDE"
      ],
      "labels": {
        "cosmos-stack": "TorMultiRelay",
        "cosmos-description": "ðŸ§… Hardened Tor Guard Relay v1.1.1 with diagnostics & auto-healing",
        "cosmos-icon": "https://raw.githubusercontent.com/r3bo0tbx1/tor-guard-relay/main/src/onion.png",
        "cosmos-auto-update": "true",
        "cosmos-auto-update-type": "registry",
        "cosmos-force-network-secured": "false",
        "cosmos-auto-update-notify": "true",
        "cosmos-auto-update-restart": "true",
        "cosmos-version": "1.1.1",
        "maintainer": "rE-Bo0t.bx1 <r3bo0tbx1@brokenbotnet.com>"
      }
    },
    "TorRelay3": {
      "image": "r3bo0tbx1/onion-relay:latest",
      "container_name": "TorRelay3",
      "restart": "unless-stopped",
      "network_mode": "host",
      "environment": [
        "TZ=Asia/Tokyo"
      ],
      "volumes": [
        {
          "type": "bind",
          "source": "/opt/tor-relay/relay-3.conf",
          "target": "/etc/tor/torrc",
          "read_only": true
        },
        {
          "type": "volume",
          "source": "tor-relay-3-data",
          "target": "/var/lib/tor"
        },
        {
          "type": "volume",
          "source": "tor-relay-3-logs",
          "target": "/var/log/tor"
        }
      ],
      "security_opt": [
        "no-new-privileges:true"
      ],
      "cap_add": [
        "NET_BIND_SERVICE",
        "CHOWN",
        "SETUID",
        "SETGID",
        "DAC_OVERRIDE"
      ],
      "labels": {
        "cosmos-stack": "TorMultiRelay",
        "cosmos-description": "ðŸ§… Hardened Tor Guard Relay v1.1.1 with diagnostics & auto-healing",
        "cosmos-icon": "https://raw.githubusercontent.com/r3bo0tbx1/tor-guard-relay/main/src/onion.png",
        "cosmos-auto-update": "true",
        "cosmos-auto-update-type": "registry",
        "cosmos-force-network-secured": "false",
        "cosmos-auto-update-notify": "true",
        "cosmos-auto-update-restart": "true",
        "cosmos-version": "1.1.1",
        "maintainer": "rE-Bo0t.bx1 <r3bo0tbx1@brokenbotnet.com>"
      }
    }
  },
  "volumes": {
    "tor-relay-1-data": { "driver": "local" },
    "tor-relay-1-logs": { "driver": "local" },
    "tor-relay-2-data": { "driver": "local" },
    "tor-relay-2-logs": { "driver": "local" },
    "tor-relay-3-data": { "driver": "local" },
    "tor-relay-3-logs": { "driver": "local" }
  },
  "metadata": {
    "description": "ðŸ§… Tor Guard Multi-Relay Stack - 3 relays with ultra-optimized 17.1MB containers",
    "version": "1.1.1",
    "author": "r3bo0tbx1",
    "tags": ["tor", "relay", "privacy", "multi-relay"]
  }
}
